<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Tienda - Links and Products Management</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <!-- Google Fonts - Load all fonts used in themes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600;700&family=Lato:wght@300;400;700&family=Quicksand:wght@300;400;500;600;700&family=Nunito:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&family=Roboto+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- SortableJS -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <!-- Custom CSS -->
    <style>
        /* === CSS VARIABLES === */
        :root {
            --primary-color: #0d6efd;      /* Used in buttons and borders */
            --success-color: #198754;      /* Used in active states */
            --danger-color: #dc3545;       /* Used in delete buttons */
        }

        /* === MAIN LAYOUT === */
        /* IMPORTANT FOR LARAVEL: This layout uses Flexbox to split the screen */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }

        .main-container {
            display: flex;              /* Layout horizontal dividido 45/55 */
            min-height: 100vh;
        }

        /* Left panel - Adjusted to be narrower */
        .left-panel {
            flex: 0 0 45%;
            background: white;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }

        .profile-header {
            padding: 2rem;
            border-bottom: 1px solid #dee2e6;
        }

        .profile-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #dee2e6;
        }

        .profile-avatar-placeholder {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #6c757d;
        }

        .profile-details h2 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: #212529;
        }

        .profile-username {
            color: #6c757d;
            margin: 0;
        }

        .profile-bio {
            margin: 0.5rem 0;
            color: #495057;
        }

        .social-icons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: white;
            font-size: 0.875rem;
        }

        .social-icon.tiktok { background-color: #000000; }
        .social-icon.spotify { background-color: #1DB954; }
        .social-icon.instagram { background-color: #E4405F; }
        .social-icon.youtube { background-color: #FF0000; }
        .social-icon.link { background-color: #6c757d; }
        .social-icon.discord { background-color: #5865F2; }
        .social-icon.twitter { background-color: #1DA1F2; }

        /* Secci√≥n de productos */
        .products-section {
            padding: 2rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
            color: #212529;
        }

        .btn-create {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .btn-create:hover {
            background: #0b5ed7;
            color: white;
            transform: translateY(-1px);
        }

        /* Lista de productos */
        .products-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .product-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: move;
            transition: all 0.2s;
            position: relative;
        }

        .product-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transform: translateY(-1px);
        }

        .drag-handle {
            color: #6c757d;
            cursor: grab;
        }

        .drag-handle:active {
            cursor: grabbing;
        }

        .product-icon {
            width: 50px;
            height: 50px;
            border-radius: 0.375rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: white;
            flex-shrink: 0;
        }

        .product-icon.link { background: linear-gradient(135deg, #17a2b8, #138496); }
        .product-icon.product { background: linear-gradient(135deg, #28a745, #20c997); }
        .product-icon.consultation { background: linear-gradient(135deg, #ffc107, #fd7e14); }
        .product-icon.course { background: linear-gradient(135deg, #6f42c1, #e83e8c); }
        .product-icon.membership { background: linear-gradient(135deg, #6610f2, #6f42c1); }

        .product-info {
            flex: 1;
            min-width: 0;
        }

        .product-title {
            font-weight: 600;
            color: #212529;
            margin: 0;
            font-size: 0.95rem;
        }

        .product-url {
            color: #6c757d;
            font-size: 0.8rem;
            margin: 0;
            word-break: break-all;
        }

        .product-type {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            margin-top: 0.25rem;
        }

        .product-type.link {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .product-type.product {
            background-color: #d4edda;
            color: #155724;
        }

        .product-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .status-indicator.active {
            background-color: #28a745;
        }

        .status-indicator.inactive {
            background-color: #6c757d;
        }

        .status-text {
            font-size: 0.8rem;
            font-weight: 500;
            color: #28a745;
        }

        .product-price {
            font-weight: 600;
            color: #212529;
            font-size: 0.9rem;
        }

        .product-sales {
            font-size: 0.8rem;
            color: #6c757d;
        }

        .product-actions {
            display: flex;
            gap: 0.25rem;
        }

        .btn-action {
            width: 32px;
            height: 32px;
            border-radius: 0.25rem;
            border: 1px solid #dee2e6;
            background: white;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .btn-action:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .btn-action.edit:hover {
            background: #cce5ff;
            color: #0066cc;
            border-color: #99d1ff;
        }

        .btn-action.delete:hover {
            background: #f8d7da;
            color: #721c24;
            border-color: #f5c2c7;
        }

        /* Right panel - New style with light gray and shadows */
        .right-panel {
            flex: 0 0 55%;
            background: #F3F4F6;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
        }

        .phone-mockup {
            position: relative;
        }

        .phone-frame {
            width: 380px;
            height: 760px;
            background: #2d3748;
            border-radius: 2.5rem;
            padding: 0.75rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .phone-notch {
            position: absolute;
            top: 0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            height: 4px;
            background: #4a5568;
            border-radius: 2px;
            z-index: 10;
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: #1a202c;
            border-radius: 2rem;
            overflow: hidden;
            position: relative;
        }

        .preview-content {
            height: 100%;
            overflow-y: auto;
            padding: 2rem 1.5rem;
            color: white;
        }

        .preview-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .preview-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background: #4a5568;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            overflow: hidden;
        }

        .preview-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-name {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0 0 0.25rem;
            color: white;
        }

        .preview-username {
            font-size: 0.9rem;
            color: #9CA3AF;
            margin: 0 0 0.5rem;
            font-weight: 500;
        }

        .preview-bio {
            font-size: 0.875rem;
            color: #a0aec0;
            line-height: 1.4;
        }

        .preview-social {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 1.5rem 0 2rem;
        }

        .preview-social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            text-decoration: none;
            color: white;
            transition: transform 0.2s ease;
        }

        .preview-social-icon:hover {
            transform: scale(1.1);
        }

        .preview-products {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .preview-product {
            background: #2d3748;
            border-radius: 0.75rem;
            padding: 1rem;
            transition: all 0.2s;
        }

        .preview-product:hover {
            background: #4a5568;
            transform: translateY(-2px);
        }

        .preview-product-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .preview-product-icon {
            width: 48px;
            height: 48px;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: white;
            flex-shrink: 0;
        }

        .preview-product-info h4 {
            font-weight: 600;
            margin: 0 0 0.25rem;
            color: white;
            font-size: 0.9rem;
        }

        .preview-product-info p {
            font-size: 0.8rem;
            color: #a0aec0;
            margin: 0;
            line-height: 1.3;
        }

        .preview-product-price {
            margin-left: auto;
            font-weight: 600;
            color: #48bb78;
            font-size: 0.9rem;
        }

        /* Estados del drag and drop */
        .sortable-ghost {
            opacity: 0.5;
            background: #f8f9fa;
            border: 2px dashed var(--primary-color);
        }

        .sortable-chosen {
            transform: rotate(2deg);
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #6c757d;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Preview info */
        .preview-info {
            text-align: center;
            margin-top: 1.5rem;
            color: white;
        }

        .preview-info p {
            margin: 0.25rem 0;
            font-size: 0.875rem;
        }

        .preview-info .small {
            font-size: 0.75rem;
            opacity: 0.8;
        }

        /* Modal personalizado para tipos de producto */
        .product-type-modal .modal-dialog {
            max-width: 600px;
        }

        .product-type-option {
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .product-type-option:hover {
            background: #e9ecef;
            border-color: #dee2e6;
            transform: translateY(-2px);
        }

        .product-type-icon {
            width: 80px;
            height: 80px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            flex-shrink: 0;
        }

        .product-type-icon.link-icon {
            background: linear-gradient(135deg, #007bff, #0056b3);
        }

        .product-type-icon.product-icon {
            background: linear-gradient(135deg, #e91e63, #ad1457);
        }

        .product-type-details h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #212529;
            margin: 0 0 0.5rem;
        }

        .product-type-details p {
            color: #6c757d;
            margin: 0;
            font-size: 1rem;
        }

        /* Modal para crear link */
        .link-form-container {
            max-width: 800px;
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .form-section h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #212529;
        }

        .auto-extract-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .auto-extract-notice i {
            color: #856404;
            font-size: 1.2rem;
        }

        .auto-extract-notice span {
            color: #856404;
            font-size: 0.9rem;
        }

        .image-upload-section {
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 1.5rem;
            background: #f8f9fa;
        }

        .image-preview-container {
            width: 120px;
            height: 120px;
            border: 2px dashed #dee2e6;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            margin-bottom: 1rem;
        }

        .image-preview-icon {
            color: #6c757d;
            font-size: 2rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #28a745;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .action-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid #dee2e6;
        }

        .btn-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            color: white;
        }

        /* Vista superpuesta para selecci√≥n de tipo de producto */
        .product-type-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 45%;
            height: 100vh;
            background: white;
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .overlay-subtitle {
            color: #6c757d;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .product-types-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .product-type-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            border: 2px solid #e9ecef;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .product-type-card:hover {
            border-color: #007bff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.15);
        }

        .product-type-icon-wrapper {
            width: 60px;
            height: 60px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        .product-type-icon-wrapper.purple {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
        }

        .product-type-icon-wrapper.green {
            background: linear-gradient(135deg, #10B981, #059669);
        }

        .product-type-icon-wrapper.orange {
            background: linear-gradient(135deg, #F59E0B, #D97706);
        }

        .product-type-icon-wrapper.blue {
            background: linear-gradient(135deg, #3B82F6, #2563EB);
        }

        .product-type-content h4 {
            margin: 0 0 0.5rem;
            font-size: 1.125rem;
            font-weight: 600;
            color: #212529;
        }

        .product-type-content p {
            margin: 0;
            font-size: 0.875rem;
            color: #6c757d;
            line-height: 1.4;
        }

        /* Vista superpuesta para edici√≥n de perfil */
        .profile-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 45%;
            height: 100vh;
            background: white;
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .overlay-header {
            padding: 2rem 2rem 1rem;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .overlay-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: #212529;
        }

        .btn-close-overlay {
            background: none;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
            border-radius: 0.25rem;
            color: #6c757d;
            transition: all 0.2s;
        }

        .btn-close-overlay:hover {
            background: #f8f9fa;
            color: #212529;
        }

        .overlay-content {
            padding: 2rem;
        }

        .overlay-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid #dee2e6;
            margin-top: 2rem;
        }

        .social-inputs .form-label {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .social-inputs .form-control {
            font-size: 0.875rem;
            padding: 0.5rem 0.75rem;
        }

        /* Avatar preview en el overlay */
        .avatar-upload-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .avatar-preview-container {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid #dee2e6;
            overflow: hidden;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .avatar-preview-overlay {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .avatar-preview-overlay img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-placeholder {
            color: #6c757d;
            font-size: 2rem;
        }

        /* Mejorar labels de redes sociales */
        .social-inputs .form-label {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
            font-weight: 600;
            color: #495057;
        }

        .social-inputs .form-label i {
            margin-right: 0.5rem;
            width: 16px;
        }

        /* Estilos para el formulario de producto */
        .tab-content-panel {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-tabs {
            padding: 0.5rem 0;
        }

        .nav-tabs .nav-link {
            border: none;
            background: none;
            color: #6c757d;
            padding: 0.75rem 1rem;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .nav-tabs .nav-link.active {
            color: #0d6efd;
            border-bottom-color: #0d6efd;
            background: none;
        }

        .nav-tabs .nav-link:hover {
            color: #0d6efd;
            border-bottom-color: rgba(13, 110, 253, 0.3);
        }

        .tab-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            line-height: 22px;
            text-align: center;
            border-radius: 50%;
            background: #e9ecef;
            font-size: 0.875rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .nav-tabs .nav-link.active .tab-number {
            background: #0d6efd;
            color: white;
        }

        .product-image-preview {
            width: 80px;
            height: 80px;
            border: 2px dashed #dee2e6;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            overflow: hidden;
        }

        .product-image-placeholder {
            color: #6c757d;
            font-size: 2rem;
        }

        .product-image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .file-upload-area {
            border: 2px dashed #dee2e6;
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        .file-upload-area:hover {
            border-color: #0d6efd;
            background: #f0f8ff;
        }

        .file-upload-placeholder p {
            margin: 0;
        }

        .file-upload-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: left;
        }

        .custom-field-item {
            background: #f8f9fa;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #dee2e6;
        }

        .review-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #dee2e6;
            margin-bottom: 0.75rem;
        }

        .review-stars {
            color: #ffc107;
        }

        .tab-navigation {
            background: white;
            margin: 0 -2rem -2rem -2rem;
            padding: 1rem 2rem;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .left-panel {
                flex: 0 0 50%;
            }
            .right-panel {
                flex: 0 0 50%;
            }
            .phone-frame {
                width: 320px;
                height: 640px;
            }
        }

        @media (max-width: 992px) {
            .main-container {
                flex-direction: column;
            }
            
            .left-panel, .right-panel {
                flex: none;
            }
            
            .right-panel {
                min-height: 50vh;
            }
        }

        @media (max-width: 768px) {
            .profile-header, .products-section {
                padding: 1.5rem;
            }
            
            .phone-frame {
                width: 280px;
                height: 560px;
            }
            
            .right-panel {
                padding: 1rem;
            }
        }

        /* Styles for improved mockup and "Your public link" field */
        .mockup-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .phone-frame {
            background: #1F2937;
            border-radius: 2.5rem;
            padding: 0.75rem;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            position: relative;
            transform: scale(0.85);
        }

        .phone-frame::before {
            content: '';
            position: absolute;
            top: 0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 6px;
            background: #374151;
            border-radius: 3px;
            z-index: 10;
        }

        /* "Your public link" field - Smaller size */
        .public-link-section {
            background: #FFFFFF;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 
                0 4px 15px -3px rgba(0, 0, 0, 0.08),
                0 2px 4px -1px rgba(0, 0, 0, 0.04);
            border: 1px solid #E5E7EB;
            width: 100%;
            max-width: 350px;
        }

        .public-link-label {
            color: #6B7280;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .public-link-input {
            background: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 0.75rem;
            width: 100%;
            font-size: 0.875rem;
            color: #374151;
            text-align: center;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .public-link-input:hover {
            background: #F3F4F6;
            border-color: #D1D5DB;
        }

        .public-link-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: #FFFFFF;
        }

        /* Adjustments for preview-info, iframe and text */
        .preview-info {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .preview-info p {
            color: #374151 !important;
            font-weight: 600;
            margin: 0.25rem 0;
        }

        .preview-info .small {
            color: #6B7280 !important;
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Make the iframe bigger */
        .phone-frame {
            background: #1F2937;
            border-radius: 2.5rem;
            padding: 0.75rem;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            position: relative;
            transform: scale(0.95);
            width: 380px;
            height: 760px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Left Panel -->
        <div class="left-panel">
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-info">
                    <div class="profile-avatar-placeholder" id="profileAvatar">
                        üë§
                    </div>
                    <div class="profile-details">
                        <h2 id="profileName">Trading Sharks</h2>
                        <p class="profile-username" id="profileUsername">@tradingsharks</p>
                        <p class="profile-bio" id="profileBio">Aqu√≠ le cambia la vida üî•üìà</p>
                        <div class="social-icons" id="socialIcons">
                            <a href="#" class="social-icon tiktok" title="TikTok">
                                <i class="bi bi-tiktok"></i>
                            </a>
                            <a href="#" class="social-icon spotify" title="Spotify">
                                <i class="bi bi-spotify"></i>
                            </a>
                            <a href="#" class="social-icon instagram" title="Instagram">
                                <i class="bi bi-instagram"></i>
                            </a>
                            <a href="#" class="social-icon youtube" title="YouTube">
                                <i class="bi bi-youtube"></i>
                            </a>
                            <a href="#" class="social-icon link" title="Link">
                                <i class="bi bi-link-45deg"></i>
                            </a>
                            <a href="#" class="social-icon discord" title="Discord">
                                <i class="bi bi-discord"></i>
                            </a>
                            <a href="#" class="social-icon twitter" title="Twitter">
                                <i class="bi bi-twitter"></i>
                            </a>
                        </div>
                        <button class="btn btn-outline-secondary btn-sm mt-2" onclick="showProfileModal()">
                            <i class="bi bi-pencil"></i> Editar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Products Section -->
            <div class="products-section">
                <div class="section-header">
                    <h3 class="section-title">Mis Enlaces / Productos</h3>
                    <button class="btn-create" onclick="showCreateModal()">
                        <i class="bi bi-plus"></i>
                        Crear Nuevo
                    </button>
                </div>

                <div class="products-list" id="productsList">
                    <!-- Products will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Right Panel - Preview -->
        <div class="right-panel">
            <div class="mockup-container">
                <div class="phone-mockup">
                    <div class="phone-frame">
                        <div class="phone-notch"></div>
                        <div class="phone-screen">
                            <div class="preview-content" id="previewContent">
                                <!-- Preview will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="preview-info">
                    <p>Vista previa en tiempo real</p>
                    <p class="small">Los cambios se reflejan autom√°ticamente</p>
                </div>
                
                <!-- "Your public link" field -->
                <div class="public-link-section">
                    <div class="public-link-label">Tu enlace p√∫blico</div>
                    <input 
                        type="text" 
                        class="public-link-input" 
                        id="publicLinkInput" 
                        value="https://clickmy.link/u/tradingsharks" 
                        readonly 
                        onclick="copyPublicLink()"
                        title="Haz clic para copiar"
                    >
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay to create Consultation Call (NEW) -->
    <div class="profile-overlay" id="consultationFormOverlay" style="display: none;">
        <div class="overlay-header">
            <h3 id="consultationFormTitle">Crear Llamada de Consultor√≠a</h3>
            <button class="btn-close-overlay" onclick="closeConsultationFormOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        
        <!-- Tab navigation for consultation -->
        <div style="padding: 0 2rem; border-bottom: 1px solid #dee2e6; background: white; position: sticky; top: 80px; z-index: 5;">
            <ul class="nav nav-tabs" id="consultationTabs" role="tablist" style="border-bottom: none; margin: 0;">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="consultation-datos-tab" data-tab="datos" type="button" role="tab">
                        <span class="tab-number">1.</span> Datos
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="consultation-contenido-tab" data-tab="contenido" type="button" role="tab">
                        <span class="tab-number">2.</span> Contenido y Precio
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="consultation-disponibilidad-tab" data-tab="disponibilidad" type="button" role="tab">
                        <span class="tab-number">3.</span> Disponibilidad
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="consultation-opciones-tab" data-tab="opciones" type="button" role="tab">
                        <span class="tab-number">4.</span> Opciones
                    </button>
                </li>
            </ul>
        </div>

        <div class="overlay-content">
            <!-- Tab 1: Datos -->
            <div class="tab-content-panel active" id="consultation-datos-panel">
                <div class="mb-4">
                    <h5 class="mb-3">Datos b√°sicos de la consultor√≠a</h5>
                    <p class="text-muted">Informaci√≥n principal que ver√°n tus clientes</p>
                </div>

                <!-- Consultation Image -->
                <div class="mb-4">
                    <label class="form-label fw-bold">Imagen de la Consultor√≠a</label>
                    <div class="d-flex align-items-center gap-3">
                        <div class="product-image-preview" id="consultationImagePreview">
                            <div class="product-image-placeholder">
                                <i class="bi bi-camera-video"></i>
                            </div>
                        </div>
                        <div class="d-flex flex-column gap-2">
                            <input type="file" id="consultationImageInput" accept="image/*" style="display: none;">
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="document.getElementById('consultationImageInput').click()">
                                <i class="bi bi-upload"></i> Subir Imagen
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-search"></i> Buscar Imagen
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Consultation Title -->
                <div class="mb-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="consultationTitle" class="form-label fw-bold">T√≠tulo de la Consultor√≠a</label>
                        <small class="text-muted"><span id="consultationTitleCounter">0</span>/50</small>
                    </div>
                    <input type="text" class="form-control" id="consultationTitle" maxlength="50" 
                           placeholder="Ej: Agenda una llamada personalizada conmigo">
                </div>

                <!-- Consultation Subtitle -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="consultationSubtitle" class="form-label fw-bold">Subt√≠tulo de la Consultor√≠a</label>
                        <small class="text-muted"><span id="consultationSubtitleCounter">0</span>/100</small>
                    </div>
                    <textarea class="form-control" id="consultationSubtitle" rows="2" maxlength="100" 
                              placeholder="Ej: Reserva una sesi√≥n privada de coaching 1 a 1"></textarea>
                </div>
            </div>

            <!-- Tab 2: Contenido y Precio -->
            <div class="tab-content-panel" id="consultation-contenido-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Contenido y Precio</h5>
                    <p class="text-muted">Define el contenido y precio de tu consultor√≠a</p>
                </div>

                <!-- Consultation Description -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="consultationDescription" class="form-label fw-bold">Descripci√≥n</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="generateConsultationAIDescription()">
                            <i class="bi bi-stars"></i> Generar con IA
                        </button>
                    </div>
                    <textarea class="form-control" id="consultationDescription" rows="6" 
                              placeholder="Esta sesi√≥n de coaching personalizada est√° dise√±ada para ayudarte a desbloquear tu m√°ximo potencial. Durante la llamada trabajaremos juntos en tus objetivos personales o profesionales y definiremos una hoja de ruta clara para alcanzarlos."></textarea>
                </div>

                <!-- Precio -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label for="consultationPrice" class="form-label fw-bold">Precio ($)</label>
                        <input type="number" class="form-control" id="consultationPrice" min="0" step="0.01" 
                               placeholder="0.00">
                    </div>
                    <div class="col-md-6">
                        <div class="form-check form-switch mt-4">
                            <input class="form-check-input" type="checkbox" id="consultationHasDiscount">
                            <label class="form-check-label" for="consultationHasDiscount">
                                <strong>Precio con descuento</strong>
                            </label>
                        </div>
                        <input type="number" class="form-control mt-2" id="consultationDiscountPrice" min="0" step="0.01" 
                               placeholder="Precio con descuento" style="display: none;">
                    </div>
                </div>

                <!-- Reviews -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-bold">Rese√±as de Clientes</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="addConsultationReview()">
                            <i class="bi bi-plus"></i> Agregar Rese√±a
                        </button>
                    </div>
                    <div id="consultationReviewsList">
                        <div class="text-muted text-center py-3">
                            <i class="bi bi-star display-6"></i>
                            <p>No hay rese√±as a√∫n. Agrega algunas para aumentar la confianza.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Availability (CONSULTATION ONLY) -->
            <div class="tab-content-panel" id="consultation-disponibilidad-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Configura tu Disponibilidad</h5>
                    <p class="text-muted">Define cu√°ndo y c√≥mo tus clientes pueden agendar una llamada contigo</p>
                    <!-- TODO: Laravel Backend Integration -->
                    <!-- This system will integrate with external calendar and automatic notifications -->
                    <!-- Endpoints: POST /api/consultations/{id}/availability, GET /api/consultations/{id}/calendar -->
                </div>

                <!-- Call Configuration -->
                <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                        <h6 class="card-title mb-3">
                            <i class="bi bi-camera-video me-2"></i>M√©todo de Llamada
                        </h6>
                        
                        <div class="row g-3">
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="callMethod" id="googleMeet" value="google_meet" checked>
                                    <label class="form-check-label" for="googleMeet">
                                        <i class="bi bi-camera-video text-success me-2"></i>Google Meet (Autom√°tico)
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="callMethod" id="zoom" value="zoom">
                                    <label class="form-check-label" for="zoom">
                                        <i class="bi bi-camera-video text-primary me-2"></i>Zoom (Autom√°tico)
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="callMethod" id="customLink" value="custom">
                                    <label class="form-check-label" for="customLink">
                                        <i class="bi bi-link-45deg text-info me-2"></i>Enlace Personalizado
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="mt-3" id="customLinkContainer" style="display: none;">
                            <input type="text" class="form-control" id="customCallLink" 
                                   placeholder="https://tu-enlace.com/llamada">
                        </div>
                    </div>
                </div>

                <!-- Time Configuration -->
                <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                        <h6 class="card-title mb-3">
                            <i class="bi bi-clock me-2"></i>Configuraci√≥n de Tiempo
                        </h6>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-globe me-2"></i>Tu Zona Horaria
                                </label>
                                <select class="form-select" id="consultationTimezone">
                                    <option value="America/Mexico_City">America/Mexico_City</option>
                                    <option value="America/New_York">America/New_York</option>
                                    <option value="America/Los_Angeles">America/Los_Angeles</option>
                                    <option value="Europe/Madrid">Europe/Madrid</option>
                                    <option value="Europe/London">Europe/London</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-clock me-2"></i>Duraci√≥n (minutos)
                                </label>
                                <select class="form-select" id="consultationDuration">
                                    <option value="15">15 minutos</option>
                                    <option value="30" selected>30 minutos</option>
                                    <option value="45">45 minutos</option>
                                    <option value="60">60 minutos</option>
                                    <option value="90">90 minutos</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Antelaci√≥n M√≠nima</label>
                                <select class="form-select" id="consultationNotice">
                                    <option value="0-hours">Sin antelaci√≥n</option>
                                    <option value="12-hours" selected>12 horas</option>
                                    <option value="24-hours">24 horas</option>
                                    <option value="2-days">2 d√≠as</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Buffer (minutos)</label>
                                <select class="form-select" id="consultationBuffer">
                                    <option value="0">Sin buffer</option>
                                    <option value="15" selected>15 minutos</option>
                                    <option value="30">30 minutos</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Disponibilidad</label>
                                <select class="form-select" id="consultationBookingWindow">
                                    <option value="30">Pr√≥ximos 30 d√≠as</option>
                                    <option value="60" selected>Pr√≥ximos 60 d√≠as</option>
                                    <option value="90">Pr√≥ximos 90 d√≠as</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Horarios Semanales -->
                <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                        <h6 class="card-title mb-3">
                            <i class="bi bi-calendar-week me-2"></i>Define tus Horarios Semanales
                        </h6>
                        
                        <div id="weeklySchedule">
                            <!-- Will be generated dynamically with JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Opciones -->
            <div class="tab-content-panel" id="consultation-opciones-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Opciones Adicionales</h5>
                    <p class="text-muted">Configura opciones avanzadas para tu consultor√≠a</p>
                </div>

                <!-- Button Text -->
                <div class="mb-4">
                    <label for="consultationButtonText" class="form-label fw-bold">Texto del Bot√≥n de Reserva</label>
                    <input type="text" class="form-control" id="consultationButtonText" placeholder="Agendar llamada" 
                           value="Agendar llamada">
                </div>

                <!-- Consultation Status -->
                <div class="mb-4">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="consultationIsActive" checked>
                        <label class="form-check-label" for="consultationIsActive">
                            <strong>Consultor√≠a est√° activa</strong>
                        </label>
                    </div>
                    <small class="text-muted">Las consultorias inactivas no aparecer√°n en tu perfil p√∫blico</small>
                </div>

                <!-- Additional information fields -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-bold">Informaci√≥n que recolectar del cliente</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="addConsultationCustomField()">
                            <i class="bi bi-plus"></i> Agregar Campo
                        </button>
                    </div>
                    <p class="text-muted small mb-3">
                        <i class="bi bi-info-circle"></i> 
                        Estos campos aparecer√°n en el proceso de agendamiento para recolectar informaci√≥n del cliente.
                        <!-- TODO: Laravel Backend Integration -->
                        <!-- In Laravel, these will integrate with booking system and calendar -->
                        <!-- Endpoints: POST /api/consultations/{id}/bookings -->
                    </p>
                    <div id="consultationCustomFieldsList">
                        <!-- Will be generated dynamically -->
                    </div>
                </div>
            </div>

            <!-- Navigation between tabs -->
            <div class="tab-navigation d-flex justify-content-between align-items-center pt-4 border-top">
                <button type="button" class="btn btn-outline-secondary" id="consultationPrevTabBtn" onclick="consultationPreviousTab()" style="display: none;">
                    <i class="bi bi-arrow-left"></i> Anterior
                </button>
                <div></div>
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-primary" onclick="saveConsultationAsDraft()">
                        <i class="bi bi-file-earmark"></i> Guardar Borrador
                    </button>
                    <button type="button" class="btn btn-success" id="consultationNextTabBtn" onclick="consultationNextTab()">
                        Siguiente <i class="bi bi-arrow-right"></i>
                    </button>
                    <button type="button" class="btn btn-success" id="createConsultationBtn" onclick="createConsultation()" style="display: none;">
                        <i class="bi bi-check-circle"></i> Crear Consultor√≠a
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para seleccionar tipo de producto -->
    <div class="modal fade product-type-modal" id="productTypeModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">¬øQu√© quieres crear?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="product-type-option" onclick="selectProductType('link')">
                        <div class="product-type-icon link-icon">
                            <i class="bi bi-link-45deg"></i>
                        </div>
                        <div class="product-type-details">
                            <h3>Un link externo</h3>
                            <p>Dirige a tus seguidores a cualquier sitio web.</p>
                        </div>
                    </div>

                    <div class="product-type-option" onclick="selectProductType('product')">
                        <div class="product-type-icon product-icon">
                            <i class="bi bi-bag-fill"></i>
                        </div>
                        <div class="product-type-details">
                            <h3>Un producto digital</h3>
                            <p>Vende tus creaciones y recibe pagos directos.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para crear link externo -->
    <div class="modal fade" id="linkFormModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Crear Nuevo Link</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="linkForm">
                        <div class="form-section">
                            <h4>URL del Link</h4>
                            <input type="url" class="form-control form-control-lg" id="linkUrl" 
                                   placeholder="https://ejemplo.com/..." required>
                            
                            <div class="auto-extract-notice">
                                <i class="bi bi-lightbulb-fill"></i>
                                <span>La imagen y t√≠tulo se extraer√°n autom√°ticamente del enlace</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-section">
                                    <h4>Imagen del Link</h4>
                                    <div class="image-upload-section">
                                        <div class="image-preview-container" id="linkImagePreview">
                                            <i class="bi bi-image image-preview-icon"></i>
                                        </div>
                                        <div class="d-flex gap-2">
                                            <input type="file" id="linkImageInput" accept="image/*" style="display: none;">
                                            <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('linkImageInput').click()">
                                                <i class="bi bi-upload"></i> Subir Imagen
                                            </button>
                                            <button type="button" class="btn btn-outline-primary">
                                                <i class="bi bi-search"></i> Buscar en Biblioteca
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-section">
                                    <h4>T√≠tulo del Link</h4>
                                    <input type="text" class="form-control" id="linkTitle" 
                                           placeholder="Se extraer√° autom√°ticamente del enlace">
                                    <small class="form-text text-muted">Puedes editarlo manualmente si lo deseas</small>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <div class="d-flex align-items-center justify-content-between">
                                <span>Link est√° activo</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="linkActive" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </form>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            Cancelar
                        </button>
                        <button type="button" class="btn btn-gradient" onclick="saveLinkProduct()">
                            Crear Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for digital product type selection -->
    <div class="product-type-overlay" id="productTypeOverlay" style="display: none;">
        <div class="overlay-header">
            <h3>Elige el tipo de producto</h3>
            <button class="btn-close-overlay" onclick="closeProductTypeOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <div class="overlay-content">
            <p class="overlay-subtitle">Selecciona qu√© tipo de producto digital quieres crear</p>
            
            <div class="product-types-grid">
                <div class="product-type-card" onclick="selectDigitalProductType('digital_product')">
                    <div class="product-type-icon-wrapper purple">
                        <i class="bi bi-box-seam"></i>
                    </div>
                    <div class="product-type-content">
                        <h4>Producto Digital</h4>
                        <p>Vende archivos digitales como PDFs, gu√≠as, plantillas, e-books o contenido exclusivo</p>
                    </div>
                </div>

                <div class="product-type-card" onclick="selectDigitalProductType('consultation')">
                    <div class="product-type-icon-wrapper green">
                        <i class="bi bi-telephone"></i>
                    </div>
                    <div class="product-type-content">
                        <h4>Llamada de Consultor√≠a</h4>
                        <p>Ofrece sesiones 1 a 1 de coaching, mentor√≠a o consultor√≠a con agendamiento autom√°tico</p>
                    </div>
                </div>

                <div class="product-type-card" onclick="selectDigitalProductType('course')">
                    <div class="product-type-icon-wrapper orange">
                        <i class="bi bi-mortarboard"></i>
                    </div>
                    <div class="product-type-content">
                        <h4>Curso Digital</h4>
                        <p>Crea y vende un curso digital con lecciones, material descargable y seguimiento</p>
                    </div>
                </div>

                <div class="product-type-card" onclick="selectDigitalProductType('membership')">
                    <div class="product-type-icon-wrapper yellow">
                        <i class="bi bi-crown"></i>
                    </div>
                    <div class="product-type-content">
                        <h4>Membres√≠a Recurrente</h4>
                        <p>Crea una membres√≠a con facturaci√≥n recurrente y acceso continuo a contenido exclusivo</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for profile editing -->
    <div class="profile-overlay" id="profileOverlay" style="display: none;">
        <div class="overlay-header">
            <h3>Editar Perfil</h3>
            <button class="btn-close-overlay" onclick="closeProfileOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <div class="overlay-content">
            <form>
                <div class="avatar-upload-section mb-4">
                    <div class="avatar-preview-container">
                        <div class="avatar-preview-overlay" id="avatarPreviewOverlay">
                            <div class="avatar-placeholder">üë§</div>
                        </div>
                    </div>
                    <input type="file" id="overlayAvatarInput" accept="image/*" style="display: none;">
                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="document.getElementById('overlayAvatarInput').click()">
                        <i class="bi bi-upload"></i> Cambiar Avatar
                    </button>
                </div>

                <div class="mb-3">
                    <label for="overlayNameInput" class="form-label">Nombre completo</label>
                    <input type="text" class="form-control" id="overlayNameInput" placeholder="Tu nombre">
                </div>

                <div class="mb-3">
                    <label for="overlayUsernameInput" class="form-label">Usuario</label>
                    <div class="input-group">
                        <span class="input-group-text">@</span>
                        <input type="text" class="form-control" id="overlayUsernameInput" placeholder="usuario">
                    </div>
                </div>

                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <label for="overlayBioInput" class="form-label">Biograf√≠a</label>
                        <small class="text-muted"><span id="overlayBioCounter">0</span>/150</small>
                    </div>
                    <textarea class="form-control" id="overlayBioInput" rows="3" maxlength="150" placeholder="Cu√©ntales qui√©n eres..."></textarea>
                </div>

                <div class="mb-4">
                    <h5 class="mb-3">Redes Sociales</h5>
                    <p class="text-muted small mb-3">Solo ingresa tu nombre de usuario (sin @)</p>
                    
                    <div class="social-inputs">
                        <div class="row g-2">
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-tiktok text-dark"></i> TikTok
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayTiktok" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-instagram text-danger"></i> Instagram
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayInstagram" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-youtube text-danger"></i> YouTube
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayYoutube" placeholder="canal">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-twitter text-primary"></i> Twitter/X
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayTwitter" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-facebook text-primary"></i> Facebook
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayFacebook" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-linkedin text-primary"></i> LinkedIn
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayLinkedin" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-discord text-primary"></i> Discord
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlayDiscord" placeholder="usuario">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">
                                    <i class="bi bi-spotify text-success"></i> Spotify
                                </label>
                                <input type="text" class="form-control form-control-sm" id="overlaySpotify" placeholder="usuario">
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <div class="overlay-actions">
                <button type="button" class="btn btn-secondary" onclick="closeProfileOverlay()">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="saveOverlayProfile()">
                    <i class="bi bi-check"></i> Guardar Cambios
                </button>
            </div>
        </div>
    </div>

    <!-- Overlay para Curso Digital -->
    <div class="profile-overlay" id="courseFormOverlay" style="display: none;">
        <div class="overlay-header">
            <h3 id="courseFormTitle">Crear Curso Digital</h3>
            <button class="btn-close-overlay" onclick="closeCourseFormOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        
        <!-- Tab navigation for course -->
        <div style="padding: 0 2rem; border-bottom: 1px solid #dee2e6; background: white; position: sticky; top: 80px; z-index: 5;">
            <ul class="nav nav-tabs" id="courseTabs" role="tablist" style="border-bottom: none; margin: 0;">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="datos-course-tab" data-tab="datos" type="button" role="tab">
                        <span class="tab-number">1.</span> Datos
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contenido-course-tab" data-tab="contenido" type="button" role="tab">
                        <span class="tab-number">2.</span> Contenido y Precio
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="curso-course-tab" data-tab="curso" type="button" role="tab">
                        <span class="tab-number">3.</span> Curso
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="opciones-course-tab" data-tab="opciones" type="button" role="tab">
                        <span class="tab-number">4.</span> Opciones
                    </button>
                </li>
            </ul>
        </div>

        <div class="overlay-content">
            <!-- Tab 1: Datos -->
            <div class="course-tab-content-panel active" id="datos-course-panel">
                <div class="mb-4">
                    <h5 class="mb-3">Datos b√°sicos del curso</h5>
                    <p class="text-muted">Informaci√≥n principal que ver√°n tus estudiantes</p>
                </div>

                <!-- Imagen del Curso -->
                <div class="mb-4">
                    <label class="form-label fw-bold">Imagen del Curso</label>
                    <div class="d-flex align-items-center gap-3">
                        <div class="product-image-preview" id="courseImagePreview">
                            <div class="course-image-placeholder">
                                <i class="bi bi-mortarboard"></i>
                            </div>
                        </div>
                        <div class="d-flex flex-column gap-2">
                            <input type="file" id="courseImageInput" accept="image/*" style="display: none;">
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="document.getElementById('courseImageInput').click()">
                                <i class="bi bi-upload"></i> Subir Imagen
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-search"></i> Buscar Imagen
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Course Title -->
                <div class="mb-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="courseTitle" class="form-label fw-bold">T√≠tulo del Curso</label>
                        <small class="text-muted"><span id="courseTitleCounter">0</span>/50</small>
                    </div>
                    <input type="text" class="form-control" id="courseTitle" maxlength="50" 
                           placeholder="Ej: Curso Completo de Marketing Digital">
                </div>

                <!-- Course Subtitle -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="courseSubtitle" class="form-label fw-bold">Subt√≠tulo del Curso</label>
                        <small class="text-muted"><span id="courseSubtitleCounter">0</span>/100</small>
                    </div>
                    <textarea class="form-control" id="courseSubtitle" rows="2" maxlength="100" 
                              placeholder="Un curso completo que te ense√±ar√° todo lo que necesitas saber"></textarea>
                </div>
            </div>

            <!-- Tab 2: Contenido y Precio -->
            <div class="course-tab-content-panel" id="contenido-course-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Contenido y Precio</h5>
                    <p class="text-muted">Define el contenido y precio de tu curso</p>
                </div>

                <!-- Course Description -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="courseDescription" class="form-label fw-bold">Descripci√≥n</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="generateCourseAIDescription()">
                            <i class="bi bi-stars"></i> Generar con IA
                        </button>
                    </div>
                    <textarea class="form-control" id="courseDescription" rows="6" 
                              placeholder="Este curso te ense√±ar√° todo lo que necesitas saber para alcanzar tus metas. Es la gu√≠a ideal si est√°s buscando:&#10;- Alcanzar tus sue√±os&#10;- Encontrar prop√≥sito en tu trabajo&#10;- Mejorar tus finanzas&#10;- Ser m√°s feliz"></textarea>
                </div>

                <!-- Precio -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label for="coursePrice" class="form-label fw-bold">Precio ($)</label>
                        <input type="number" class="form-control" id="coursePrice" min="0" step="0.01" 
                               placeholder="0.00">
                    </div>
                    <div class="col-md-6">
                        <div class="form-check form-switch mt-4">
                            <input class="form-check-input" type="checkbox" id="courseHasDiscount">
                            <label class="form-check-label" for="courseHasDiscount">
                                <strong>Precio con descuento</strong>
                            </label>
                        </div>
                        <input type="number" class="form-control mt-2" id="courseDiscountPrice" min="0" step="0.01" 
                               placeholder="Precio con descuento" style="display: none;">
                    </div>
                </div>

                <!-- Reviews -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-bold">Rese√±as de Estudiantes</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="addCourseReview()">
                            <i class="bi bi-plus"></i> Agregar Rese√±a
                        </button>
                    </div>
                    <div id="courseReviewsList">
                        <div class="text-muted text-center py-3">
                            <i class="bi bi-star display-6"></i>
                            <p>No hay rese√±as a√∫n. Agrega algunas para aumentar la confianza.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Course (DIGITAL COURSE ONLY) -->
            <div class="course-tab-content-panel" id="curso-course-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Contenido del Curso</h5>
                    <p class="text-muted">Define la p√°gina del curso y estructura de m√≥dulos/lecciones</p>
                </div>

                <!-- Course Page Configuration -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h6 class="mb-0"><i class="bi bi-browser-chrome me-2"></i>P√°gina del Curso</h6>
                    </div>
                    <div class="card-body">
                        <!-- Imagen de Cabecera del Curso -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">Imagen de Cabecera</label>
                            <p class="text-muted small">Esta imagen se mostrar√° en la p√°gina principal del curso</p>
                            <div class="d-flex align-items-center gap-3">
                                <div class="course-header-image-preview" id="courseHeaderImagePreview" 
                                     style="width: 120px; height: 70px; border: 2px dashed #dee2e6; border-radius: 8px; display: flex; align-items: center; justify-content: center; background: #f8f9fa;">
                                    <i class="bi bi-image text-muted"></i>
                                </div>
                                <div class="d-flex flex-column gap-2">
                                    <input type="file" id="courseHeaderImageInput" accept="image/*" style="display: none;">
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="document.getElementById('courseHeaderImageInput').click()">
                                        <i class="bi bi-upload"></i> Subir Imagen
                                    </button>
                                    <button type="button" class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-search"></i> Buscar Imagen
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Course Page Title -->
                        <div class="mb-3">
                            <label for="courseContentTitle" class="form-label fw-bold">T√≠tulo de la P√°gina del Curso</label>
                            <input type="text" class="form-control" id="courseContentTitle" 
                                   placeholder="Ej: Domine el arte del trading desde cero">
                        </div>

                        <!-- Course Page Description -->
                        <div class="mb-3">
                            <label for="courseContentDescription" class="form-label fw-bold">Descripci√≥n de la P√°gina del Curso</label>
                            <textarea class="form-control" id="courseContentDescription" rows="3"
                                      placeholder="Ej: En este curso aprender√°s paso a paso los fundamentos, estrategias y herramientas necesarias para convertirte en un trader rentable."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Modules and Lessons -->
                <div class="card">
                    <div class="card-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h6 class="mb-0"><i class="bi bi-collection me-2"></i>M√≥dulos y Lecciones</h6>
                            <button type="button" class="btn btn-primary btn-sm" onclick="addCourseModule()">
                                <i class="bi bi-plus"></i> A√±adir M√≥dulo
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="courseModulesList">
                            <!-- Se renderizar√° din√°micamente -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Opciones -->
            <div class="course-tab-content-panel" id="opciones-course-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Opciones del Curso</h5>
                    <p class="text-muted">Configuraciones adicionales</p>
                </div>

                <!-- Action Button Text -->
                <div class="mb-4">
                    <label for="courseButtonText" class="form-label fw-bold">Texto del Bot√≥n de Acci√≥n</label>
                    <input type="text" class="form-control" id="courseButtonText" 
                           placeholder="Empezar curso" value="Empezar curso">
                </div>

                <!-- Estado Activo -->
                <div class="mb-4">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="courseIsActive" checked>
                        <label class="form-check-label" for="courseIsActive">
                            <strong>Curso est√° activo</strong>
                        </label>
                    </div>
                    <small class="form-text text-muted">Los cursos inactivos no ser√°n visibles para los estudiantes</small>
                </div>
            </div>
        </div>

        <!-- Navigation between tabs -->
        <div class="overlay-actions">
            <button type="button" class="btn btn-secondary" onclick="closeCourseFormOverlay()">
                Cancelar
            </button>
            <button type="button" class="btn btn-outline-secondary" id="prevCourseTabBtn" onclick="previousCourseTab()" style="display: none;">
                <i class="bi bi-arrow-left"></i> Anterior
            </button>
            <button type="button" class="btn btn-primary" id="nextCourseTabBtn" onclick="nextCourseTab()">
                Siguiente <i class="bi bi-arrow-right"></i>
            </button>
            <button type="button" class="btn btn-success" id="createCourseBtn" onclick="createCourse()" style="display: none;">
                <i class="bi bi-check-circle"></i> Crear Curso
            </button>
        </div>
    </div>

    <!-- Overlay para Membres√≠a Recurrente -->
    <div class="profile-overlay" id="membershipFormOverlay" style="display: none;">
        <div class="overlay-header">
            <h3><i class="bi bi-crown text-warning"></i> Crear Membres√≠a Recurrente</h3>
            <button class="btn-close-overlay" onclick="closeMembershipFormOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        
        <!-- Tab navigation for membership -->
        <div style="padding: 0 2rem; border-bottom: 1px solid #dee2e6; background: white; position: sticky; top: 80px; z-index: 5;">
            <ul class="nav nav-tabs" id="membershipTabs" role="tablist" style="border-bottom: none; margin: 0;">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="datos-membership-tab" data-tab="datos" type="button" role="tab">
                        <span class="tab-number">1.</span> Datos
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contenido-membership-tab" data-tab="contenido" type="button" role="tab">
                        <span class="tab-number">2.</span> Contenido y Precio
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="opciones-membership-tab" data-tab="opciones" type="button" role="tab">
                        <span class="tab-number">3.</span> Opciones
                    </button>
                </li>
            </ul>
        </div>

        <div class="overlay-content">
            <!-- Tab 1: Datos -->
            <div class="membership-tab-content-panel active" id="datos-membership-panel">
                <div class="mb-4">
                    <h5 class="mb-3">Datos b√°sicos de la membres√≠a</h5>
                    <p class="text-muted">Informaci√≥n principal que ver√°n tus suscriptores</p>
                </div>
                
                <!-- Imagen de la membres√≠a -->
                <div class="mb-4">
                    <label class="form-label fw-semibold">Imagen de la membres√≠a</label>
                    <div class="d-flex gap-4 align-items-start">
                        <div class="product-image-preview" id="membershipImagePreview">
                            <div class="product-image-placeholder">
                                <i class="bi bi-crown"></i>
                            </div>
                        </div>
                        <div class="d-flex flex-column gap-2">
                            <input type="file" id="membershipImageInput" accept="image/*" style="display: none;">
                            <button type="button" class="btn btn-outline-primary" onclick="document.getElementById('membershipImageInput').click()">
                                <i class="bi bi-upload"></i> Subir imagen
                            </button>
                            <small class="text-muted">Formatos: JPG, PNG, GIF. M√°x: 5MB</small>
                        </div>
                    </div>
                </div>
                
                <!-- Membership Title -->
                <div class="mb-4">
                    <label for="membershipTitle" class="form-label fw-semibold">
                        T√≠tulo de la membres√≠a
                        <span class="character-counter text-muted ms-2">(<span id="membershipTitleCounter">0</span>/50)</span>
                    </label>
                    <input type="text" class="form-control" id="membershipTitle" maxlength="50" 
                           placeholder="Ej: Membres√≠a Exclusiva Premium">
                    <div class="form-text">Este ser√° el nombre principal de tu membres√≠a</div>
                </div>
                
                <!-- Subt√≠tulo -->
                <div class="mb-4">
                    <label for="membershipSubtitle" class="form-label fw-semibold">
                        Subt√≠tulo (opcional)
                        <span class="character-counter text-muted ms-2">(<span id="membershipSubtitleCounter">0</span>/100)</span>
                    </label>
                    <textarea class="form-control" id="membershipSubtitle" rows="3" maxlength="100" 
                              placeholder="Ej: Acceso completo a contenido exclusivo y comunidad privada"></textarea>
                    <div class="form-text">Un breve resumen del valor de tu membres√≠a</div>
                </div>
            </div>
            
            <!-- Tab 2: Contenido y precio -->
            <div class="membership-tab-content-panel" id="contenido-membership-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Contenido y precio recurrente</h5>
                    <p class="text-muted">Configura el contenido, precio y facturaci√≥n de tu membres√≠a</p>
                </div>
                
                <!-- Descripci√≥n -->
                <div class="mb-4">
                    <label for="membershipDescription" class="form-label fw-semibold">
                        Descripci√≥n de la membres√≠a
                        <button type="button" class="btn btn-sm btn-outline-info ms-2" onclick="generateMembershipDescriptionAI()">
                            <i class="bi bi-stars"></i> Generar con IA
                        </button>
                    </label>
                    <textarea class="form-control" id="membershipDescription" rows="6" 
                              placeholder="Describe los beneficios, el contenido y el valor que recibir√°n los miembros..."></textarea>
                    <div class="form-text">Explica claramente qu√© incluye tu membres√≠a y por qu√© vale la pena</div>
                </div>
                
                <!-- Configuraci√≥n de precio recurrente -->
                <div class="pricing-section mb-5">
                    <h6 class="mb-3"><i class="bi bi-arrow-repeat text-primary"></i> Configuraci√≥n de facturaci√≥n recurrente</h6>
                    
                    <div class="row g-3 mb-3">
                        <!-- Precio -->
                        <div class="col-md-6">
                            <label for="membershipPrice" class="form-label fw-semibold">Precio ($)</label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="membershipPrice" step="0.01" min="0" 
                                       placeholder="29.99">
                            </div>
                        </div>
                        
                        <!-- Frecuencia -->
                        <div class="col-md-6">
                            <label for="membershipFrequency" class="form-label fw-semibold">Frecuencia de cobro</label>
                            <select class="form-select" id="membershipFrequency">
                                <option value="daily">Diario</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly" selected>Mensual</option>
                                <option value="quarterly">Trimestral (cada 3 meses)</option>
                                <option value="semi_annually">Semestral (cada 6 meses)</option>
                                <option value="annually">Anual</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Precio con descuento -->
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="membershipHasDiscount">
                            <label class="form-check-label fw-semibold" for="membershipHasDiscount">
                                Ofrecer precio promocional
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-4" id="membershipDiscountPriceGroup" style="display: none;">
                        <label for="membershipDiscountPrice" class="form-label fw-semibold">Precio promocional ($)</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="membershipDiscountPrice" step="0.01" min="0" 
                                   placeholder="19.99">
                        </div>
                        <div class="form-text">Este precio se mostrar√° como oferta especial</div>
                    </div>
                    
                    <!-- Duraci√≥n de la membres√≠a -->
                    <div class="membership-duration">
                        <h6 class="mb-3"><i class="bi bi-calendar-check text-success"></i> Duraci√≥n de la membres√≠a</h6>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="membershipHasEndDate">
                            <label class="form-check-label fw-semibold" for="membershipHasEndDate">
                                Finalizar autom√°ticamente despu√©s de un per√≠odo determinado
                            </label>
                        </div>
                        
                        <div class="mb-3" id="membershipEndAfterGroup" style="display: none;">
                            <label for="membershipEndAfterMonths" class="form-label fw-semibold">Finalizar despu√©s de (meses)</label>
                            <select class="form-select" id="membershipEndAfterMonths">
                                <option value="1">1 mes</option>
                                <option value="3">3 meses</option>
                                <option value="6">6 meses</option>
                                <option value="12" selected>12 meses</option>
                                <option value="24">24 meses</option>
                            </select>
                            <div class="form-text">La membres√≠a se cancelar√° autom√°ticamente despu√©s de este per√≠odo</div>
                        </div>
                    </div>
                </div>
                
                <!-- Button Text -->
                <div class="mb-4">
                    <label for="membershipButtonText" class="form-label fw-semibold">Texto del bot√≥n de acci√≥n</label>
                    <input type="text" class="form-control" id="membershipButtonText" 
                           placeholder="Subscribirse" value="Subscribirse">
                    <div class="form-text">Este texto aparecer√° en el bot√≥n de suscripci√≥n</div>
                </div>
                
                <!-- Rese√±as de miembros -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-semibold mb-0">
                            <i class="bi bi-star text-warning"></i> Rese√±as de miembros
                        </label>
                        <button type="button" class="btn btn-sm btn-outline-primary" onclick="addMembershipReview()">
                            <i class="bi bi-plus"></i> Agregar rese√±a
                        </button>
                    </div>
                    <div class="reviews-container border rounded p-3 bg-light" id="membershipReviewsList">
                        <div class="text-muted text-center py-3">
                            <i class="bi bi-star display-6 opacity-25"></i>
                            <p class="mb-0">No hay rese√±as a√∫n. Agrega algunas para aumentar la confianza.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tab 3: Opciones -->
            <div class="membership-tab-content-panel" id="opciones-membership-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Configuraciones adicionales</h5>
                    <p class="text-muted">Ajustes finales para tu membres√≠a</p>
                </div>
                
                <!-- Estado -->
                <div class="mb-4">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="membershipIsActive" checked>
                        <label class="form-check-label fw-semibold" for="membershipIsActive">
                            <i class="bi bi-eye text-success"></i> Membres√≠a visible para nuevos miembros
                        </label>
                    </div>
                    <div class="form-text">Si est√° desactivada, solo los miembros actuales podr√°n acceder</div>
                </div>
                
                <!-- Vista previa de facturaci√≥n -->
                <div class="billing-preview">
                    <h6 class="mb-3"><i class="bi bi-receipt text-info"></i> Vista previa de facturaci√≥n</h6>
                    <div class="alert alert-info" id="membershipBillingPreview">
                        <div><strong>Precio:</strong> <span id="previewPrice">$0.00</span></div>
                        <div><strong>Frecuencia:</strong> <span id="previewFrequency">mensual</span></div>
                        <div><strong>Duraci√≥n:</strong> <span id="previewDuration">Sin l√≠mite</span></div>
                    </div>
                </div>
                
                <!-- Informaci√≥n adicional -->
                <div class="alert alert-warning">
                    <h6><i class="bi bi-info-circle"></i> Informaci√≥n importante</h6>
                    <ul class="mb-0 small">
                        <li>Los pagos recurrentes se procesar√°n autom√°ticamente seg√∫n la frecuencia seleccionada</li>
                        <li>Los miembros pueden cancelar su suscripci√≥n en cualquier momento</li>
                        <li>Recibir√°s notificaciones de nuevos suscriptores y cancelaciones</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Botones de navegaci√≥n del formulario -->
        <div class="overlay-footer">
            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-outline-secondary" onclick="closeMembershipFormOverlay()">
                    <i class="bi bi-x-circle"></i> Cancelar
                </button>
                
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-secondary" id="prevMembershipTabBtn" onclick="previousMembershipTab()" style="display: none;">
                        <i class="bi bi-arrow-left"></i> Anterior
                    </button>
                    <button type="button" class="btn btn-primary" id="nextMembershipTabBtn" onclick="nextMembershipTab()">
                        Siguiente <i class="bi bi-arrow-right"></i>
                    </button>
                    <button type="button" class="btn btn-success" id="createMembershipBtn" onclick="createMembership()" style="display: none;">
                        <i class="bi bi-check-circle"></i> Crear Membres√≠a
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Compra -->
    <div class="modal fade" id="purchaseModal" tabindex="-1" style="display: none;">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content" style="background: rgba(20, 20, 30, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1); border-radius: 1rem;">
                <!-- Header -->
                <div class="modal-header border-0" style="padding: 2rem 2rem 1rem 2rem;">
                    <h5 class="modal-title text-white fw-bold fs-4">Completar Compra</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                
                <!-- Body -->
                <div class="modal-body" style="padding: 0 2rem 2rem 2rem;">
                    <!-- Formulario de Compra -->
                    <div id="purchaseForm">
                        <!-- Resumen del Producto -->
                        <div class="mb-4" style="background: rgba(255,255,255,0.05); border-radius: 0.75rem; padding: 1.5rem; border: 1px solid rgba(255,255,255,0.1);">
                            <div class="d-flex gap-3">
                                <div class="flex-shrink-0" style="width: 80px; height: 80px; background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%); border-radius: 0.75rem; display: flex; align-items: center; justify-content: center;">
                                    <div id="productImageSummary">
                                        <i class="bi bi-box-seam text-white" style="font-size: 2rem;"></i>
                                    </div>
                                </div>
                                <div class="flex-fill">
                                    <div class="d-flex justify-content-between align-items-start mb-2">
                                        <h6 class="text-white fw-semibold mb-1" id="productTitleSummary">Producto Digital</h6>
                                        <span class="badge" style="background: rgba(139, 92, 246, 0.2); color: #c4b5fd; font-size: 0.75rem;">
                                            Producto Digital
                                        </span>
                                    </div>
                                    <p class="text-muted small mb-2 lh-sm" id="productDescriptionSummary">
                                        Descripci√≥n del producto
                                    </p>
                                    <div class="fs-3 fw-bold text-white" id="productPriceSummary">
                                        $0.00
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Formulario del Cliente -->
                        <form id="customerForm">
                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <label class="form-label text-white fw-semibold">
                                        <i class="bi bi-person me-2"></i>Nombre Completo
                                    </label>
                                    <input type="text" class="form-control" id="customerName" required
                                           style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white !important; border-radius: 0.5rem;"
                                           placeholder="Tu nombre completo">
                                    <style>
                                        #customerName::placeholder { color: rgba(255,255,255,0.6) !important; }
                                        #customerName:focus { border-color: #8b5cf6 !important; box-shadow: 0 0 0 0.2rem rgba(139, 92, 246, 0.25) !important; }
                                    </style>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label text-white fw-semibold">
                                        <i class="bi bi-envelope me-2"></i>Correo Electr√≥nico
                                    </label>
                                    <input type="email" class="form-control" id="customerEmail" required
                                           style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white !important; border-radius: 0.5rem;"
                                           placeholder="tu@email.com">
                                    <style>
                                        #customerEmail::placeholder { color: rgba(255,255,255,0.6) !important; }
                                        #customerEmail:focus { border-color: #8b5cf6 !important; box-shadow: 0 0 0 0.2rem rgba(139, 92, 246, 0.25) !important; }
                                    </style>
                                </div>
                            </div>

                            <!-- Campos Personalizados del Producto -->
                            <div id="customFieldsContainer" class="mb-4">
                                <!-- Se llenar√°n din√°micamente -->
                            </div>

                            <!-- Informaci√≥n de Pago -->
                            <div class="mb-4" style="background: rgba(255,255,255,0.05); border-radius: 0.75rem; padding: 1.5rem; border: 1px solid rgba(255,255,255,0.1);">
                                <div class="d-flex align-items-center gap-2 mb-3">
                                    <i class="bi bi-credit-card text-white" style="font-size: 1.25rem;"></i>
                                    <h6 class="text-white fw-semibold mb-0">M√©todo de Pago</h6>
                                </div>
                                <div class="text-muted small">
                                    <!-- TODO: Laravel Backend Integration -->
                                    <!-- Aqu√≠ se integrar√° Stripe Elements para procesar pagos reales -->
                                    <!-- Stripe.js se cargar√° din√°micamente y se montar√°n los elementos de pago -->
                                    <!-- Endpoint API: POST /api/payments/create-intent -->
                                    üîí Pago seguro procesado con encriptaci√≥n SSL
                                </div>
                            </div>

                            <!-- Aviso de Seguridad -->
                            <div class="d-flex align-items-center gap-2 mb-4 text-muted small">
                                <i class="bi bi-shield-lock"></i>
                                <span>Checkout seguro y protegido</span>
                            </div>

                            <!-- Bot√≥n de Compra -->
                            <button type="submit" class="btn w-100 py-3 fw-semibold" id="purchaseSubmitBtn"
                                    style="background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%); border: none; color: white; border-radius: 0.75rem; font-size: 1.1rem;">
                                <i class="bi bi-credit-card me-2"></i>
                                <span id="purchaseButtonText">Pagar Ahora $0.00</span>
                            </button>
                        </form>
                    </div>

                    <!-- Estado de Procesamiento -->
                    <div id="processingState" style="display: none;" class="text-center py-5">
                        <div class="mb-4">
                            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                <span class="visually-hidden">Procesando...</span>
                            </div>
                        </div>
                        <h5 class="text-white mb-2">Procesando tu compra...</h5>
                        <p class="text-muted">
                            <!-- TODO: Laravel Backend -->
                            <!-- Aqu√≠ se procesar√° el pago real con Stripe -->
                            <!-- Se validar√° el webhook de confirmaci√≥n -->
                            Por favor espera mientras procesamos tu pago de forma segura
                        </p>
                    </div>

                    <!-- Estado de √âxito -->
                    <div id="successState" style="display: none;" class="text-center py-5">
                        <div class="mb-4">
                            <div class="d-inline-flex align-items-center justify-content-center" 
                                 style="width: 80px; height: 80px; background: rgba(34, 197, 94, 0.2); border-radius: 50%;">
                                <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
                            </div>
                        </div>
                        <h4 class="text-white fw-bold mb-3">¬°Compra Completada!</h4>
                        <p class="text-muted mb-4">
                            <!-- TODO: Laravel Backend -->
                            <!-- El enlace de descarga se enviar√° autom√°ticamente por email -->
                            <!-- Sistema de entrega: POST /api/orders/deliver -->
                            Tu compra ha sido procesada exitosamente.<br>
                            Recibir√°s un email con el enlace de descarga.
                        </p>
                        <button type="button" class="btn btn-primary px-4" data-bs-dismiss="modal">
                            Cerrar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vista superpuesta para crear producto digital -->
    <div class="profile-overlay" id="productFormOverlay" style="display: none;">
        <div class="overlay-header">
            <h3 id="productFormTitle">Crear Producto Digital</h3>
            <button class="btn-close-overlay" onclick="closeProductFormOverlay()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        
        <!-- Navegaci√≥n de tabs -->
        <div style="padding: 0 2rem; border-bottom: 1px solid #dee2e6; background: white; position: sticky; top: 80px; z-index: 5;">
            <ul class="nav nav-tabs" id="productTabs" role="tablist" style="border-bottom: none; margin: 0;">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="datos-tab" data-tab="datos" type="button" role="tab">
                        <span class="tab-number">1.</span> Datos
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contenido-tab" data-tab="contenido" type="button" role="tab">
                        <span class="tab-number">2.</span> Contenido y Precio
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="opciones-tab" data-tab="opciones" type="button" role="tab">
                        <span class="tab-number">3.</span> Opciones
                    </button>
                </li>
            </ul>
        </div>

        <div class="overlay-content">
            <!-- Tab 1: Datos -->
            <div class="tab-content-panel active" id="datos-panel">
                <div class="mb-4">
                    <h5 class="mb-3">Datos b√°sicos del producto</h5>
                    <p class="text-muted">Informaci√≥n principal que ver√°n tus clientes</p>
                </div>

                <!-- Imagen del Producto -->
                <div class="mb-4">
                    <label class="form-label fw-bold">Imagen del Producto</label>
                    <div class="d-flex align-items-center gap-3">
                        <div class="product-image-preview" id="productImagePreview">
                            <div class="product-image-placeholder">
                                <i class="bi bi-box-seam"></i>
                            </div>
                        </div>
                        <div class="d-flex flex-column gap-2">
                            <input type="file" id="productImageInput" accept="image/*" style="display: none;">
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="document.getElementById('productImageInput').click()">
                                <i class="bi bi-upload"></i> Subir Imagen
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-search"></i> Buscar Imagen
                            </button>
                        </div>
                    </div>
                </div>

                <!-- T√≠tulo del Producto -->
                <div class="mb-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="productTitle" class="form-label fw-bold">T√≠tulo del Producto</label>
                        <small class="text-muted"><span id="titleCounter">0</span>/50</small>
                    </div>
                    <input type="text" class="form-control" id="productTitle" maxlength="50" 
                           placeholder="Ej: Gu√≠a Completa de Marketing Digital">
                </div>

                <!-- Subt√≠tulo del Producto -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="productSubtitle" class="form-label fw-bold">Subt√≠tulo del Producto</label>
                        <small class="text-muted"><span id="subtitleCounter">0</span>/100</small>
                    </div>
                    <textarea class="form-control" id="productSubtitle" rows="2" maxlength="100" 
                              placeholder="Un subt√≠tulo breve y atractivo que describa el valor de tu producto"></textarea>
                </div>
            </div>

            <!-- Tab 2: Contenido y Precio -->
            <div class="tab-content-panel" id="contenido-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Contenido y Precio</h5>
                    <p class="text-muted">Define el contenido y precio de tu producto digital</p>
                </div>

                <!-- Descripci√≥n del Producto -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label for="productDescription" class="form-label fw-bold">Descripci√≥n</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="generateAIDescription()">
                            <i class="bi bi-stars"></i> Generar con IA
                        </button>
                    </div>
                    <textarea class="form-control" id="productDescription" rows="6" 
                              placeholder="Este template le ense√±ar√° todo lo que necesita saber para alcanzar sus metas. Es la gu√≠a ideal si usted est√° buscando:
- Alcanzar sus sue√±os
- Encontrar prop√≥sito en su trabajo
- Mejorar sus finanzas
- Ser m√°s feliz"></textarea>
                </div>

                <!-- Precio -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label for="productPrice" class="form-label fw-bold">Precio ($)</label>
                        <input type="number" class="form-control" id="productPrice" min="0" step="0.01" 
                               placeholder="0.00">
                    </div>
                    <div class="col-md-6">
                        <div class="form-check form-switch mt-4">
                            <input class="form-check-input" type="checkbox" id="hasDiscount">
                            <label class="form-check-label" for="hasDiscount">
                                <strong>Precio con descuento</strong>
                            </label>
                        </div>
                        <input type="number" class="form-control mt-2" id="discountPrice" min="0" step="0.01" 
                               placeholder="Precio con descuento" style="display: none;">
                    </div>
                </div>

                <!-- Archivo del Producto -->
                <div class="mb-4">
                    <label class="form-label fw-bold">Archivo del Producto (Descarga)</label>
                    <div class="file-upload-area" id="fileUploadArea">
                        <input type="file" id="productFileInput" style="display: none;">
                        <div class="file-upload-placeholder">
                            <i class="bi bi-cloud-arrow-up display-4 text-muted"></i>
                            <p class="mb-2">Selecciona el archivo que recibir√°n tus clientes</p>
                            <p class="text-muted small">PDF, ZIP, DOCX, PPTX, etc.</p>
                            <button type="button" class="btn btn-primary" onclick="document.getElementById('productFileInput').click()">
                                <i class="bi bi-upload"></i> Subir Archivo
                            </button>
                        </div>
                        <div class="file-upload-success" id="fileUploadSuccess" style="display: none;">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center gap-2">
                                    <i class="bi bi-file-earmark-check text-success"></i>
                                    <span id="uploadedFileName"></span>
                                </div>
                                <button type="button" class="btn btn-sm btn-outline-danger" onclick="removeUploadedFile()">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reviews -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-bold">Rese√±as de Clientes</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="addReview()">
                            <i class="bi bi-plus"></i> Agregar Rese√±a
                        </button>
                    </div>
                    <div id="reviewsList">
                        <div class="text-muted text-center py-3">
                            <i class="bi bi-star display-6"></i>
                            <p>No hay rese√±as a√∫n. Agrega algunas para aumentar la confianza.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Opciones -->
            <div class="tab-content-panel" id="opciones-panel" style="display: none;">
                <div class="mb-4">
                    <h5 class="mb-3">Opciones Adicionales</h5>
                    <p class="text-muted">Configura opciones avanzadas para tu producto</p>
                </div>

                <!-- Button Text -->
                <div class="mb-4">
                    <label for="buttonText" class="form-label fw-bold">Texto del Bot√≥n de Compra</label>
                    <input type="text" class="form-control" id="buttonText" placeholder="Comprar ahora" 
                           value="Comprar ahora">
                </div>

                <!-- Estado del Producto -->
                <div class="mb-4">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="isActive" checked>
                        <label class="form-check-label" for="isActive">
                            <strong>Producto est√° activo</strong>
                        </label>
                    </div>
                    <small class="text-muted">Los productos inactivos no aparecer√°n en tu perfil p√∫blico</small>
                </div>

                <!-- Additional information fields -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <label class="form-label fw-bold">Informaci√≥n que recolectar del cliente</label>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="addCustomField()">
                            <i class="bi bi-plus"></i> Agregar Campo
                        </button>
                    </div>
                    <p class="text-muted small mb-3">
                        <i class="bi bi-info-circle"></i> 
                        Estos campos aparecer√°n en el proceso de compra para recolectar informaci√≥n del cliente.
                        En Laravel backend, se integrar√°n con el sistema de checkout y facturaci√≥n.
                    </p>
                    <div id="customFieldsList">
                        <!-- Campos por defecto -->
                        <div class="custom-field-item mb-2">
                            <div class="d-flex gap-2 align-items-center">
                                <input type="text" class="form-control" value="Nombre completo" readonly>
                                <select class="form-select" disabled style="max-width: 120px;">
                                    <option>Texto</option>
                                </select>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" checked disabled>
                                    <label class="form-check-label small">Obligatorio</label>
                                </div>
                            </div>
                        </div>
                        <div class="custom-field-item mb-2">
                            <div class="d-flex gap-2 align-items-center">
                                <input type="text" class="form-control" value="Correo electr√≥nico" readonly>
                                <select class="form-select" disabled style="max-width: 120px;">
                                    <option>Email</option>
                                </select>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" checked disabled>
                                    <label class="form-check-label small">Obligatorio</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation between tabs -->
            <div class="tab-navigation d-flex justify-content-between align-items-center pt-4 border-top">
                <button type="button" class="btn btn-outline-secondary" id="prevTabBtn" onclick="previousTab()" style="display: none;">
                    <i class="bi bi-arrow-left"></i> Anterior
                </button>
                <div></div>
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-primary" onclick="saveAsDraft()">
                        <i class="bi bi-file-earmark"></i> Guardar Borrador
                    </button>
                    <button type="button" class="btn btn-success" id="nextTabBtn" onclick="nextTab()">
                        Siguiente <i class="bi bi-arrow-right"></i>
                    </button>
                    <button type="button" class="btn btn-success" id="createProductBtn" onclick="createProduct()" style="display: none;">
                        <i class="bi bi-check-circle"></i> Crear Producto
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar perfil -->
    <div class="modal fade" id="profileModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Editar Perfil</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="profileForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Avatar</label>
                                    <input type="file" class="form-control" id="avatarInput" accept="image/*">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="nameInput" value="Trading Sharks">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Username</label>
                                    <div class="input-group">
                                        <span class="input-group-text">@</span>
                                        <input type="text" class="form-control" id="usernameInput" value="tradingsharks">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Bio</label>
                                    <textarea class="form-control" id="bioInput" rows="4">Aqu√≠ le cambia la vida üî•üìà</textarea>
                                    <div class="form-text">
                                        <span id="bioCounter">29</span>/160 caracteres
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="saveProfile()">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="successToast" class="toast" role="alert">
            <div class="toast-body bg-success text-white d-flex align-items-center">
                <i class="bi bi-check-circle me-2"></i>
                <span id="successMessage">Operaci√≥n completada exitosamente</span>
            </div>
        </div>
    </div>

    <script>
        // Funciones globales para uso en HTML
        function showProfileModal() {
            return window.MiTienda.showProfileModal();
        }
        
        function showProfileOverlay() {
            return window.MiTienda.showProfileOverlay();
        }
        
        function closeProfileOverlay() {
            return window.MiTienda.closeProfileOverlay();
        }
        
        function saveOverlayProfile() {
            return window.MiTienda.saveOverlayProfile();
        }
        
        function showProductTypeOverlay() {
            return window.MiTienda.showProductTypeOverlay();
        }
        
        function closeProductTypeOverlay() {
            return window.MiTienda.closeProductTypeOverlay();
        }
        
        function selectDigitalProductType(type) {
            return window.MiTienda.selectDigitalProductType(type);
        }
    </script>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Canvas Confetti para animaci√≥n de √©xito -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- JavaScript personalizado -->
    <script src="js/mi-tienda.js"></script>
</body>
</html>